import{g as G,a as V,r as s,u as W,E as H,j as t,s as A,c as X,p as x,h as K,m as T,C as v,Q,R as Y,aY as L,aZ as D,t as U,a_ as w,V as M,b as y,U as Z,a$ as q,b0 as N,W as J,X as ee,b1 as O,b2 as te,b3 as re,ay as c,aF as I,A as _,aA as b,aI as ne,b4 as ae,b5 as se,b6 as oe,I as p,aE as ie,aP as le,aQ as ce,aT as F,aR as ue,aS as de,aU as pe,aV as me,aW as fe,aX as he}from"./MainCard-D_6aM0Zi.js";function xe(r){return G("MuiLinearProgress",r)}V("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const R=4,S=D`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,ge=typeof S!="string"?L`
        animation: ${S} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,E=D`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,be=typeof E!="string"?L`
        animation: ${E} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,k=D`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,ye=typeof k!="string"?L`
        animation: ${k} 3s infinite linear;
      `:null,ve=r=>{const{classes:e,variant:n,color:o}=r,a={root:["root",`color${x(o)}`,n],dashed:["dashed",`dashedColor${x(o)}`],bar1:["bar","bar1",`barColor${x(o)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",n!=="buffer"&&`barColor${x(o)}`,n==="buffer"&&`color${x(o)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return K(a,xe,e)},B=(r,e)=>r.vars?r.vars.palette.LinearProgress[`${e}Bg`]:r.palette.mode==="light"?Q(r.palette[e].main,.62):Y(r.palette[e].main,.5),je=A("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:n}=r;return[e.root,e[`color${x(n.color)}`],e[n.variant]]}})(T(({theme:r})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(r.palette).filter(v()).map(([e])=>({props:{color:e},style:{backgroundColor:B(r,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Ce=A("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(r,e)=>{const{ownerState:n}=r;return[e.dashed,e[`dashedColor${x(n.color)}`]]}})(T(({theme:r})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(r.palette).filter(v()).map(([e])=>{const n=B(r,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`}}})]})),ye||{animation:`${k} 3s infinite linear`}),Pe=A("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(r,e)=>{const{ownerState:n}=r;return[e.bar,e.bar1,e[`barColor${x(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(T(({theme:r})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(r.palette).filter(v()).map(([e])=>({props:{color:e},style:{backgroundColor:(r.vars||r).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${R}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${R}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:ge||{animation:`${S} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),we=A("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(r,e)=>{const{ownerState:n}=r;return[e.bar,e.bar2,e[`barColor${x(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(T(({theme:r})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(r.palette).filter(v()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(r.vars||r).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(r.palette).filter(v()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:B(r,e),transition:`transform .${R}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:be||{animation:`${E} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Ie=s.forwardRef(function(e,n){const o=W({props:e,name:"MuiLinearProgress"}),{className:a,color:i="primary",value:m,valueBuffer:f,variant:l="indeterminate",...u}=o,d={...o,color:i,variant:l},j=ve(d),z=H(),C={},P={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&m!==void 0){C["aria-valuenow"]=Math.round(m),C["aria-valuemin"]=0,C["aria-valuemax"]=100;let g=m-100;z&&(g=-g),P.bar1.transform=`translateX(${g}%)`}if(l==="buffer"&&f!==void 0){let g=(f||0)-100;z&&(g=-g),P.bar2.transform=`translateX(${g}%)`}return t.jsxs(je,{className:X(j.root,a),ownerState:d,role:"progressbar",...C,ref:n,...u,children:[l==="buffer"?t.jsx(Ce,{className:j.dashed,ownerState:d}):null,t.jsx(Pe,{className:j.bar1,ownerState:d,style:P.bar1}),l==="determinate"?null:t.jsx(we,{className:j.bar2,ownerState:d,style:P.bar2})]})}),Ae=U(t.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),Te=U(t.jsx("path",{d:"M8 5v14l11-7z"})),h=s.createContext({}),Re={n:ee,distribution:J,barPlotType:M,feature1:N,feature2:q,errorPlotType:Z},Se={guess:0,guessActive:!1,userAnswer:"na",victory:!1,correct:"na",level:0,score:0,levelParams:w[0],feature1:N,feature2:q,questionID:0,progressBarIncrementInSeconds:.1,barPlotType:w[0].barPlotType||M,timeRemaining:w[0].timePerTurnInSeconds},$=r=>{const[e,n]=re(w[0]);return{...Se,targetR:e,RLabel:n,gameID:r}};function Ee({children:r}){const e=y(),[n,o]=s.useState(Re),[a,i]=s.useState(()=>({...$(0),welcome:!0,paused:!0})),[m,f]=s.useState(()=>O(n,a.targetR,e.colorPairs));return s.useEffect(()=>{if(a.userAnswer==="na")return;const l=a.userAnswer===a.RLabel?"correct":"incorrect";te(l,a,n,e,f,i)},[n,a.questionID]),s.useEffect(()=>{a.gameID!==0&&i({...$(a.gameID),welcome:!1,paused:!1})},[a.gameID]),s.useEffect(()=>{if(a.timeRemaining<=0){i({...a,userAnswer:"timeout",questionID:a.questionID+1,timeRemaining:a.levelParams.timePerTurnInSeconds});return}const l=100,u=setInterval(()=>{i(d=>d.paused||d.victory||d.welcome?d:{...d,timeRemaining:Math.max(0,d.timeRemaining-l/1e3)})},l);return()=>clearInterval(u)},[a.timeRemaining]),t.jsx(h.Provider,{value:{appState:a,setAppState:i,data:m,setData:f,settings:n,setSettings:o},children:r})}const ke=()=>{const{appState:r,setAppState:e}=s.useContext(h),n=s.useRef(null),o=s.useRef(null),a=i=>{e({...r,userAnswer:i,questionID:r.questionID+1,timeRemaining:r.levelParams.timePerTurnInSeconds})};return s.useEffect(()=>{const i=m=>{var f,l;m.key==="l"&&((f=n.current)==null||f.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),setTimeout(()=>{var u;return(u=n.current)==null?void 0:u.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))},100),a("low")),m.key==="h"&&((l=o.current)==null||l.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),setTimeout(()=>{var u;return(u=o.current)==null?void 0:u.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))},100),a("high"))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[r]),t.jsxs(c,{container:!0,children:[t.jsx(c,{size:6,sx:{display:"flex",justifyContent:"center"},children:t.jsxs(I,{variant:"contained",color:"primary",onClick:()=>a("low"),ref:n,children:[t.jsx("u",{children:"L"}),"ow"]})}),t.jsx(c,{size:6,sx:{display:"flex",justifyContent:"center"},children:t.jsxs(I,{variant:"contained",color:"primary",onClick:()=>a("high"),ref:o,children:[t.jsx("u",{children:"H"}),"igh"]})})]})},Le=({children:r})=>{const e=y(),{appState:n}=s.useContext(h),[o,a]=s.useState("");return s.useEffect(()=>{if(n.userAnswer==="na")return;const i=n.userAnswer===n.RLabel?"correct":"incorrect";a(i==="correct"?_(e.palette.success.light,.5):_(e.palette.error.light,.5)),setTimeout(()=>a(""),300)},[n.questionID]),t.jsx(b,{sx:{backgroundColor:o,transition:"background-color 0.05s linear",minHeight:"100vh"},children:r})},De=({totalTimeInSeconds:r})=>{const{appState:e}=s.useContext(h),n=y();return t.jsx(b,{sx:{width:"100%",position:"relative",padding:1},children:t.jsx(Ie,{variant:"determinate",value:e.timeRemaining/r*100,sx:{height:8,"& .MuiLinearProgress-bar":{background:ne(se,ae,n.palette.error.light,n.palette.success.light,e.timeRemaining)}}})})},Be=({score:r,level:e})=>t.jsxs(c,{container:!0,children:[t.jsxs(c,{size:6,sx:{display:"flex",justifyContent:"center"},children:["Score: ",r]}),t.jsxs(c,{size:6,sx:{display:"flex",justifyContent:"center"},children:["Level: ",e+1,"/",oe]})]}),ze=()=>{const{appState:r,setAppState:e}=s.useContext(h),n=()=>{e({...r,gameID:r.gameID+1})};return t.jsxs(b,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%"},children:[t.jsx(p,{variant:"h1",sx:{textAlign:"center"},children:"Congratulations, you won!"}),t.jsx(I,{onClick:n,children:"Play again"})]})},_e=()=>t.jsxs(b,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",paddingX:4},children:[t.jsx(p,{sx:{textAlign:"center",marginBottom:2},children:'In this game, your task is to guess whether the correlation between two features is "high" or "low". For example, do the bars tend to be tall at the same time as they tend to be a certain color?'}),t.jsx(p,{sx:{textAlign:"center",marginBottom:2},children:'As the game goes on, the difference between "high" and "low" correlations gets smaller.'}),t.jsxs(p,{sx:{textAlign:"center",marginBottom:2},children:["There is another version of this game, where you can guess the exact correlation, rather than simply high or low, and you are not under time pressure. It can be found"," ",t.jsx("a",{href:"https://malcolmsailor.com/static_pages/corrGuessr.html",children:"here"}),"."]})]}),$e=()=>{const{appState:r,setAppState:e}=s.useContext(h),n=y(),o=ie(n.breakpoints.only("xs"));return t.jsx(le,{title:"Pause",children:t.jsx(ce,{onClick:()=>e({...r,paused:!r.paused,welcome:!1}),children:r.paused?t.jsx(Te,{sx:{fontSize:o?20:30,color:n.palette.text.primary}}):t.jsx(Ae,{sx:{fontSize:o?20:30,color:n.palette.text.primary}})})})},Ue=()=>{const r="400px",e=y();return t.jsxs(t.Fragment,{children:[t.jsxs(c,{size:12,sx:{display:"flex",justifyContent:"center",position:"relative",height:r},children:[t.jsx(b,{sx:{opacity:.5,position:"absolute",top:0,left:0,right:0,bottom:0},children:t.jsx(F,{context:h})}),t.jsx(p,{variant:"h1",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:e.palette.background.default,outline:"2px solid",outlineColor:e.palette.primary.dark,padding:"8px 16px",color:e.palette.primary.dark,borderRadius:"32px",fontWeight:"bold",zIndex:1e3,textAlign:"center",opacity:1},children:"Welcome!"})]}),t.jsx(c,{size:12,sx:{display:"flex",justifyContent:"center",padding:4},children:t.jsxs(b,{children:[t.jsx(p,{sx:{textAlign:"center",marginBottom:2},children:'In this game, your task is to guess whether the correlation between two features is "high" or "low". For example, do the bars tend to be tall at the same time as they tend to be a certain color?'}),t.jsx(p,{sx:{textAlign:"center",marginBottom:2},children:"When you're ready, press the play button in the top left corner."})]})})]})},Me=()=>{const{appState:r}=s.useContext(h);return t.jsxs(p,{children:[t.jsx(p,{component:"span",sx:{color:"primary.main"},children:r.feature1.replace("-"," ").toUpperCase()}),t.jsx(p,{component:"span",children:" vs. "}),t.jsx(p,{component:"span",sx:{color:"primary.main"},children:r.feature2.replace("-"," ").toUpperCase()})]})},qe=()=>{const{settings:r,appState:e,setAppState:n,setData:o}=s.useContext(h),a=y(),i="400px";s.useEffect(()=>{o(O(r,e.targetR,a.colorPairs))},[r]);const[m,f]=s.useState(!1);s.useEffect(()=>{f(!0),setTimeout(()=>{f(!1)},1e3)},[e.level]);const l=s.useRef(null);var u=null;return e.welcome?u=t.jsx(Ue,{}):e.paused?u=t.jsx(_e,{}):e.victory?u=t.jsx(ze,{}):u=t.jsxs(t.Fragment,{children:[t.jsx(c,{size:12,sx:{display:"flex",justifyContent:"center"},children:t.jsx(Me,{})}),t.jsxs(c,{size:12,sx:{height:i,position:"relative"},children:[t.jsx(F,{context:h}),m&&t.jsxs(p,{variant:"h1",sx:{position:"absolute",top:"50%",left:"50%",color:"#ffffff",fontWeight:"bold",zIndex:1e3,textShadow:"0px 0px 64px rgba(0,0,0,1.0)",opacity:m?1:0,animation:"shrink 1s linear forwards","@keyframes shrink":{"0%":{transform:"translate(-50%, -50%) scale(1)"},"100%":{transform:"translate(-50%, -50%) scale(0)"}}},children:["Level ",e.level+1]})]}),t.jsx(c,{size:12,children:t.jsx(ke,{})}),t.jsx(c,{size:12,children:t.jsx(De,{totalTimeInSeconds:e.levelParams.timePerTurnInSeconds},e.questionID)}),t.jsx(c,{size:12,children:t.jsx(Be,{score:e.score,level:e.level})}),t.jsx(c,{size:12,sx:{display:"flex",justifyContent:"center"},children:t.jsx(I,{onClick:()=>n({...e,gameID:e.gameID+1}),children:"New Game"})})]}),t.jsx(ue,{containerRef:l,children:t.jsx(Le,{children:t.jsxs(c,{container:!0,children:[t.jsx(c,{size:12,children:t.jsx(de,{leftComponent:t.jsx($e,{})})}),u]})})})},Ne=()=>t.jsx(pe,{theme:me,children:t.jsxs(Ee,{children:[t.jsx(fe,{}),t.jsx(qe,{})]})});he.createRoot(document.getElementById("root")).render(t.jsx(s.StrictMode,{children:t.jsx(Ne,{})}));
